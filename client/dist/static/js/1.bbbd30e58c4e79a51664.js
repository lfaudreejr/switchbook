webpackJsonp([1],{Mm7u:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-form",[o("p",[e._v("Select a book to trade.")]),e._v(" "),o("b-row",e._l(e.usersBooks,function(t){return o("b-col",{key:t._id},[o("b-card",{staticClass:"mb-3"},[o("b-form-checkbox-group",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[o("b-img",{attrs:{thumnail:"",src:t.volumeInfo.imageLinks.thumbnail}}),e._v(" "),o("b-form-checkbox",{attrs:{id:"checkvalue",value:t._id}},[e._v("Select")])],1)],1)],1)}))],1)},n=[],a={render:r,staticRenderFns:n};t.a=a},OqfM:function(e,t,o){t=e.exports=o("FZ+f")(!0),t.push([e.i,".owner-list[data-v-a70e38b2]{cursor:pointer}.owner-list[data-v-a70e38b2]:hover{cursor:pointer;background-color:#f8f9fa}","",{version:3,sources:["/media/larry/B89880DC98809B101/WebApps/SwitchBook/client/src/components/library/BookDetail.vue"],names:[],mappings:"AACA,6BACE,cAAgB,CACjB,AACD,mCACE,eAAgB,AAChB,wBAA0B,CAC3B",file:"BookDetail.vue",sourcesContent:["\n.owner-list[data-v-a70e38b2] {\n  cursor: pointer;\n}\n.owner-list[data-v-a70e38b2]:hover {\n  cursor: pointer;\n  background-color: #f8f9fa;\n}\n"],sourceRoot:""}])},Ozac:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.book?o("b-card",[o("div",{staticClass:"mb-5 mt-5"},[o("img",{attrs:{src:e.book.volumeInfo.imageLinks.thumbnail}}),e._v(" "),o("h3",[e._v(e._s(e.book.volumeInfo.title))]),e._v(" "),e._l(e.book.volumeInfo.authors,function(t){return o("p",{key:t,staticClass:"small"},[e._v(e._s(t))])})],2),e._v(" "),o("div",[o("b-list-group",[o("h5",[e._v("Owners of this book:")]),e._v(" "),o("p",{staticClass:"small"},[e._v("Click an owner to request a trade.")]),e._v(" "),e._l(e.book.owners,function(t){return o("b-list-group-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPrevent",value:t!==e.profile?"myModal":"",expression:"owner !== profile ? 'myModal' : ''",modifiers:{modalPrevent:!0}}],key:t,staticClass:"owner-list"},[e._v("\n          "+e._s(t)+"\n\n          "),e._v(" "),o("b-modal",{attrs:{id:"myModal"},on:{ok:function(o){e.requestTrade(e.book,t)}}},[o("b-form",[o("p",[e._v("Select a book to trade.")]),e._v(" "),o("b-row",e._l(e.userBooks,function(t){return o("b-col",{key:t._id},[o("b-card",{staticClass:"mb-3"},[o("b-form-checkbox-group",{model:{value:e.selectedToTrade,callback:function(t){e.selectedToTrade=t},expression:"selectedToTrade"}},[o("b-img",{attrs:{thumnail:"",src:t.volumeInfo.imageLinks.thumbnail}}),e._v(" "),o("b-form-checkbox",{attrs:{id:"checkvalue",value:t}},[e._v("Select")])],1)],1)],1)}))],1)],1)],1)})],2)],1)]):e._e()],1)},n=[],a={render:r,staticRenderFns:n};t.a=a},"Uw+8":function(e,t,o){"use strict";var r=o("Xxa5"),n=o.n(r),a=o("exGp"),s=o.n(a),c=o("gyMJ"),u=o("uTq7"),i=new c.a;t.a={name:"bookdetail",props:["profile"],components:{BookTradeModal:u.a},data:function(){return{title:"Books detail",book:null,usersBooks:null,selectedToTrade:null}},computed:{userBooks:function(){return this.usersBooks}},methods:{requestTrade:function(e,t){var o=this;return s()(n.a.mark(function r(){var a;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={requestedBook:e,currentOwner:t,bookOffered:o.selectedToTrade[0]},r.next=3,i.submitATrade(a);case 3:o.selectedToTrade=null,o.$router.push("/user");case 5:case"end":return r.stop()}},r,o)}))()},fetchBook:function(){var e=this;return s()(n.a.mark(function t(){var o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getBookById(e.$route.params.id);case 2:o=t.sent,e.book=o.data;case 4:case"end":return t.stop()}},t,e)}))()},fetchUserBooks:function(){var e=this;return s()(n.a.mark(function t(){var o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getBooksByUser();case 2:o=t.sent,e.usersBooks=o.data;case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){function e(){return t.apply(this,arguments)}var t=s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBook();case 2:return e.next=4,this.fetchUserBooks();case 4:case"end":return e.stop()}},e,this)}));return e}(),watch:{$route:["fetchBook","fetchUserBooks"]}}},ZWVl:function(e,t,o){var r=o("OqfM");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("36a4b493",r,!0)},pGzi:function(e,t,o){"use strict";function r(e){o("ZWVl")}Object.defineProperty(t,"__esModule",{value:!0});var n=o("Uw+8"),a=o("Ozac"),s=o("VU/8"),c=r,u=s(n.a,a.a,!1,c,"data-v-a70e38b2",null);t.default=u.exports},ps4U:function(e,t,o){"use strict";t.a={name:"booktrademodal",props:{selected:{default:[]}},computed:{usersBooks:function(){var e=localStorage.getItem("user_books");return JSON.parse(e)}},watch:{selected:function(){console.log(this.selected)}}}},uTq7:function(e,t,o){"use strict";var r=o("ps4U"),n=o("Mm7u"),a=o("VU/8"),s=a(r.a,n.a,!1,null,null,null);t.a=s.exports}});
//# sourceMappingURL=1.bbbd30e58c4e79a51664.js.map